karate-httpbin-python/
â”‚
â”œâ”€â”€ run_karate.py          # Python runner
â”œâ”€â”€ requirements.txt
â”‚
â”œâ”€â”€ pom.xml                # Karate still needs Maven
â”‚
â””â”€â”€ src
    â””â”€â”€ test
        â””â”€â”€ resources
            â”œâ”€â”€ karate-config.js
            â”‚
            â””â”€â”€ features
                â””â”€â”€ httpbin
                    â””â”€â”€ anything.feature




src/test/resources/features/httpbin/anything.feature

Feature: httpbin anything endpoint

  Background:
    * url 'https://httpbin.org'
    * header Content-Type = 'application/json'

  Scenario: GET request
    Given path 'anything'
    When method GET
    Then status 200

  Scenario: POST request
    Given path 'anything'
    And request { name: 'Karate', lang: 'Python runner' }
    When method POST
    Then status 200
    And match response.json.name == 'Karate'


run_karate.py
import subprocess
import sys

MAVEN_CMD = r'"C:\Tools\apache-maven-3.9.11\bin\mvn.cmd"'

def run_karate():
    try:
        command = f'{MAVEN_CMD} test'

        result = subprocess.run(
            command,
            shell=True,              # ğŸ”´ REQUIRED ON WINDOWS
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            text=True
        )

        print(result.stdout)

        if result.returncode != 0:
            print("âŒ Karate tests failed")
            print(result.stderr)
            sys.exit(1)

        print("âœ… Karate tests passed")

    except Exception as e:
        print("âŒ Error running Maven:", e)
        sys.exit(1)

if __name__ == "__main__":
    run_karate()


pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="
           http://maven.apache.org/POM/4.0.0
           https://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <groupId>com.example</groupId>
    <artifactId>karate-httpbin-tests</artifactId>
    <version>1.0-SNAPSHOT</version>

    <properties>
        <karate.version>1.4.1</karate.version>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
    </properties>

    <dependencies>
        <dependency>
            <groupId>com.intuit.karate</groupId>
            <artifactId>karate-junit5</artifactId>
            <version>${karate.version}</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.2.5</version>
                <configuration>
                    <includes>
                        <include>**/*Runner.java</include>
                    </includes>
                </configuration>
            </plugin>
        </plugins>
    </build>

</project>

To run python run_karate.py


function fn() {

  var env = karate.env; // mvn test -Dkarate.env=qa
  if (!env) {
    env = 'dev';
  }

  karate.log('Karate environment:', env);

  var config = {
    env: env,
    baseUrl: ''
  };

  if (env === 'dev') {
    config.baseUrl = 'https://httpbin.org';
  } else if (env === 'qa') {
    config.baseUrl = 'https://httpbin.org';
  } else if (env === 'prod') {
    config.baseUrl = 'https://httpbin.org';
  }

  // Global headers
  config.headers = {
    'Content-Type': 'application/json'
  };

  // Timeout config
  karate.configure('connectTimeout', 5000);
  karate.configure('readTimeout', 5000);

  return config;
}

  python run_karate.py -Dkarate.env=qa
