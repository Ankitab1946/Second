karate-httpbin-python/
â”‚
â”œâ”€â”€ run_karate.py          # Python runner
â”œâ”€â”€ requirements.txt
â”‚
â”œâ”€â”€ pom.xml                # Karate still needs Maven
â”‚
â””â”€â”€ src
    â””â”€â”€ test
        â””â”€â”€ resources
            â”œâ”€â”€ karate-config.js
            â”‚
            â””â”€â”€ features
                â””â”€â”€ httpbin
                    â””â”€â”€ anything.feature




src/test/resources/features/httpbin/anything.feature

Feature: httpbin anything endpoint

  Background:
    * url 'https://httpbin.org'
    * header Content-Type = 'application/json'

  Scenario: GET request
    Given path 'anything'
    When method GET
    Then status 200

  Scenario: POST request
    Given path 'anything'
    And request { name: 'Karate', lang: 'Python runner' }
    When method POST
    Then status 200
    And match response.json.name == 'Karate'


run_karate.py
import subprocess
import sys

MAVEN_CMD = r'"C:\Tools\apache-maven-3.9.11\bin\mvn.cmd"'

def run_karate():
    try:
        command = f'{MAVEN_CMD} test'

        result = subprocess.run(
            command,
            shell=True,              # ğŸ”´ REQUIRED ON WINDOWS
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            text=True
        )

        print(result.stdout)

        if result.returncode != 0:
            print("âŒ Karate tests failed")
            print(result.stderr)
            sys.exit(1)

        print("âœ… Karate tests passed")

    except Exception as e:
        print("âŒ Error running Maven:", e)
        sys.exit(1)

if __name__ == "__main__":
    run_karate()


pom.xml

<configuration>
    <systemPropertyVariables>
        <karate.output.pretty>true</karate.output.pretty>
        <karate.report.dir>target/karate</karate.report.dir>
    </systemPropertyVariables>
</configuration>


To run python run_karate.py


function fn() {

  var env = karate.env; // mvn test -Dkarate.env=qa
  if (!env) {
    env = 'dev';
  }

  karate.log('Karate environment:', env);

  var config = {
    env: env,
    baseUrl: ''
  };

  if (env === 'dev') {
    config.baseUrl = 'https://httpbin.org';
  } else if (env === 'qa') {
    config.baseUrl = 'https://httpbin.org';
  } else if (env === 'prod') {
    config.baseUrl = 'https://httpbin.org';
  }

  // Global headers
  config.headers = {
    'Content-Type': 'application/json'
  };

  // Timeout config
  karate.configure('connectTimeout', 5000);
  karate.configure('readTimeout', 5000);

  return config;
}

  python run_karate.py -Dkarate.env=qa
